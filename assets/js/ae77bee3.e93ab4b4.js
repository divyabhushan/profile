"use strict";(self.webpackChunkmy_portfolio=self.webpackChunkmy_portfolio||[]).push([[705],{3557:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});var l=t(7294),a=(t(1767),"\n{\n    employee {\n        empname\n    }     \n}\n"),r='\n{"empid":{"_eq":"X-Hasura-User-Id"}}\n';function s(){var e=l.useState([]),n=e[0],t=e[1];return l.useEffect((function(){fetch("https://myapi.hasura.app/v1/graphql",{method:"POST",headers:{Content_Type:"application/json","x-hasura-admin-secret":"azg431y5OY2WxHHPDrUxbQ61zF2PI4Zff1HCkwdLUtugqniHwRWXnajSjxy7K59D","x-hasura-role":"view-only","x-hasura-user-id":1},body:JSON.stringify({query:a})}).then((function(e){return e.json()})).then((function(e){return t(e.data.employee)}))}),[]),l.createElement("div",{className:"container"},l.createElement("h1",{className:"header"},"Roles & Session variables"),l.createElement("p",null,"The `x-hasura-role`: `view-only` has limited access to just the `empname` column from the `employee` table."),n.map((function(e){return l.createElement("ul",null,l.createElement("li",null,e.empid,": ",e.empname,": ",e.bio))})),l.createElement("p",null,l.createElement("h5",null,'In the Hasura cloud console, set permissions for "employee" table.'),'Create a user with the name "view-only".',l.createElement("ul",null,l.createElement("li",null,"Table: employee"),l.createElement("li",null,"Role: view-only"),l.createElement("li",null,"Action: select"),l.createElement("li",null,"Row select permissions:",l.createElement("ul",null,l.createElement("li",null,"with custom check: ",r))),l.createElement("li",null,"Column select permissions: empname"))))}},1767:function(e,n){n.Z={container:"container_czXe",header:"header_A16n",tagline:"tagline_Na5f",sections:"sections_reqf",features:"features_keug",showcaseUser:"showcaseUser_HIUw",pContent:"pContent_wcUG",center:"center_migW",skills:"skills_lzCP",nextrow:"nextrow_lwru",date:"date_i2YJ",title:"title_VwV3",img:"img_pcqG",history:"history_X2iC"}}}]);